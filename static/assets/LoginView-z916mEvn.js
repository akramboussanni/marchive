import{d as w,u as y,r as u,e as d,g as s,h as b,f as L,k as l,v as p,A as m,t as c,z as h,C as V,o as v,_ as x}from"./index-DMTmS6cD.js";const k={class:"login-view"},S={class:"login-card"},q={class:"form-group"},B={class:"form-group"},C=["disabled"],U={key:0,class:"error"},A=w({__name:"LoginView",setup(D){const g=h(),f=V(),a=y(),r=u(""),n=u(""),o=u("");async function _(){o.value="";try{await a.login({username:r.value,password:n.value});const t=f.query.redirect||"/";g.push(t)}catch(t){o.value=t.response?.data?.message||"Login failed"}}return(t,e)=>(v(),d("div",k,[s("div",S,[e[4]||(e[4]=s("h1",null,"Login",-1)),s("form",{onSubmit:b(_,["prevent"])},[s("div",q,[e[2]||(e[2]=s("label",{for:"username"},"Username",-1)),l(s("input",{id:"username","onUpdate:modelValue":e[0]||(e[0]=i=>r.value=i),type:"text",required:"",autocomplete:"username"},null,512),[[p,r.value]])]),s("div",B,[e[3]||(e[3]=s("label",{for:"password"},"Password",-1)),l(s("input",{id:"password","onUpdate:modelValue":e[1]||(e[1]=i=>n.value=i),type:"password",required:"",autocomplete:"current-password"},null,512),[[p,n.value]])]),s("button",{type:"submit",disabled:m(a).loading},c(m(a).loading?"Logging in...":"Login"),9,C),o.value?(v(),d("p",U,c(o.value),1)):L("",!0)],32)])]))}}),N=x(A,[["__scopeId","data-v-ea2d5f02"]]);export{N as default};
