import{d as y,u as k,r as a,s as R,C as b,e as m,g as s,h as V,f as q,k as l,v as d,A as g,t as f,z as x,o as c,_ as h}from"./index-DMTmS6cD.js";const C={class:"register-view"},S={class:"register-card"},U={class:"form-group"},B={class:"form-group"},M={class:"form-group"},N=["disabled"],A={key:0,class:"error"},D=y({__name:"RegisterView",setup(E){const w=x(),p=b(),n=k(),r=a(""),i=a(""),u=a(""),t=a("");R(()=>{p.query.token?r.value=p.query.token:t.value="No invite code provided. Registration requires an invite."});async function _(){t.value="";try{await n.register({token:r.value,username:i.value,password:u.value}),w.push("/")}catch(v){t.value=v.response?.data?.message||"Registration failed"}}return(v,e)=>(c(),m("div",C,[s("div",S,[e[6]||(e[6]=s("h1",null,"Register",-1)),s("form",{onSubmit:V(_,["prevent"])},[s("div",U,[e[3]||(e[3]=s("label",{for:"token"},"Invite Code",-1)),l(s("input",{id:"token","onUpdate:modelValue":e[0]||(e[0]=o=>r.value=o),type:"text",required:"",placeholder:"Enter your invite code"},null,512),[[d,r.value]])]),s("div",B,[e[4]||(e[4]=s("label",{for:"username"},"Username",-1)),l(s("input",{id:"username","onUpdate:modelValue":e[1]||(e[1]=o=>i.value=o),type:"text",required:"",autocomplete:"username"},null,512),[[d,i.value]])]),s("div",M,[e[5]||(e[5]=s("label",{for:"password"},"Password",-1)),l(s("input",{id:"password","onUpdate:modelValue":e[2]||(e[2]=o=>u.value=o),type:"password",required:"",autocomplete:"new-password"},null,512),[[d,u.value]])]),s("button",{type:"submit",disabled:g(n).loading},f(g(n).loading?"Registering...":"Register"),9,N),t.value?(c(),m("p",A,f(t.value),1)):q("",!0)],32)])]))}}),z=h(D,[["__scopeId","data-v-213a98e6"]]);export{z as default};
